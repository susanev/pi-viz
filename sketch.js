var pi = "3141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342117067982148086513282306647093844609550582231725359408128481117450284102701938521105559644622948954930381964428810975665933446128475648233786783165271201909145648566923460348610454326648213393607260249141273724587006606315588174881520920962829254091715364367892590360011330530548820466521384146951941511609433057270365759591953092186117381932611793105118548074462379962749567351885752724891227938183011949129833673362440656643086021394946395224737190702179860943702770539217176293176752384674818467669405132000568127145263560827785771342757789609173637178721468440901224953430146549585371050792276892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989";
var colors;
var rectSize = 10;
var x = 0;
var y = 0;

function setup() {
  viz = createCanvas(1200, 600);
  background(255);
  noStroke();
  colors = [color("#9D9D9D"), color("#2195F2"), color("#00BBD3"),
              color("#009587"), color("#8AC24A"), color("#CCDB39"),
              color("#E81E63"), color("#03A8F3"), color("#03A8F3"),
              color("#FEEA3B")];
  for (i = 0; i < pi.length; i++) {
    var digit = parseInt(pi[i]);
    var adjust = (digit + 1) * rectSize;
    if (y + (digit + 1) * rectSize > height) {
      var part = height - y + adjust;
      fill(colors[digit]);
      rect(x, y, rectSize, part);
      x += rectSize;
      y = 0;
      rect(x, y, rectSize, adjust - part);
      y = adjust - part;
    } else {
      fill(colors[digit]);
      rect(x, y, rectSize, adjust);
      y += adjust;
    }
  }
  
  saveCanvas(viz, 'viz', 'png');
}